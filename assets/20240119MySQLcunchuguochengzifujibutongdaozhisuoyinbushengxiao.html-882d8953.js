import{_ as o,n as i,p as l,q as r,s as n,R as e,t as a,Y as t}from"./framework-f2b64c38.js";const c={},p=t('<h1 id="èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#èƒŒæ™¯" aria-hidden="true">#</a> èƒŒæ™¯</h1><p>ç›®å‰å…¬å¸æ•°æ®åº“ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘çš„äº‘æ•°æ®åº“ï¼Œå½“æ—¶æ•°æ®åº“å‹åŠ›å¤§ä¸€ç›´åœ¨æŠ¥è­¦ï¼Œæ•…æ’æŸ¥ä¸€ä¸‹æ€§èƒ½ç“¶é¢ˆåœ¨å“ªã€‚</p><h1 id="æ’æŸ¥æ€è·¯" tabindex="-1"><a class="header-anchor" href="#æ’æŸ¥æ€è·¯" aria-hidden="true">#</a> æ’æŸ¥æ€è·¯</h1><h2 id="è…¾è®¯äº‘è‡ªå¸¦çš„æ€§èƒ½åˆ†æ" tabindex="-1"><a class="header-anchor" href="#è…¾è®¯äº‘è‡ªå¸¦çš„æ€§èƒ½åˆ†æ" aria-hidden="true">#</a> è…¾è®¯äº‘è‡ªå¸¦çš„æ€§èƒ½åˆ†æ</h2><p>äº‘å‚å•†çš„æ•°æ®åº“åŸºæœ¬éƒ½è‡ªå¸¦äº†æ€§èƒ½åˆ†æçš„å·¥å…·ï¼Œç›¸æ¯”è‡ªå»ºæ•°æ®åº“ä¹Ÿæ˜¯ä¸€ç‚¹ä¼˜åŠ¿<br> æ•°æ®åº“å‹åŠ›å¤§å…·ä½“è¡¨ç°åœ¨æ•°æ®åº“CPUé•¿æ—¶é—´100%ï¼Œå‡ºç°å¤§é‡æ…¢SQL<br> æˆ‘å¸è¿˜ä½¿ç”¨äº†äº‹ä»¶+å­˜å‚¨è¿‡ç¨‹å»å®šæ—¶æ‰§è¡Œä¸€äº›ä»»åŠ¡ï¼Œè¿™éƒ¨åˆ†ä¹Ÿæ˜¯é‡ä¸­ä¹‹é‡</p><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora202401191536182.png"><p>ä¸‹é¢ä¸»è¦æ˜¯æˆ‘åˆ†ææˆ‘å¸å…·ä½“æƒ…å†µçš„æ€è·¯ï¼Œå¯ä»¥ä¸å‚è€ƒï¼Œåªæ˜¯è®°å½•ä¸€ä¸‹</p>',7),d=n("li",null,"æ‰“å¼€è…¾è®¯äº‘æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰æ•°æ®åº“æ‰§è¡Œè¾ƒæ…¢çš„è¯­å¥ï¼ŒæŠŠè¿™äº›è¯­å¥æ‰£å‡ºæ¥åˆ†æï¼Œæ²¡åŠ ç´¢å¼•åŠ ç´¢å¼•ï¼Œéœ€è¦ä¼˜åŒ–åŠ ä¼˜åŒ–",-1),u=n("li",null,"ä¼˜åŒ–å®Œæ˜¾ç¤ºçš„æ…¢æŸ¥è¯¢åï¼Œå‹åŠ›é™ä½äº›ï¼Œä½†ä»ç„¶é¢‡é«˜ï¼Œç»§ç»­åˆ†æ",-1),m=n("li",null,"é€šè¿‡CPUåˆ†æç»“åˆæˆ‘å¸å…·ä½“æƒ…å†µï¼ŒåŸºæœ¬åœ¨æ¯ä¸ªå°æ—¶çš„ç‰¹å®šæ—¶é—´ç‚¹CPUä½¿ç”¨ç‡å°±ä¼šçªç„¶é£™å‡ï¼Œç„¶åæŒç»­ä¸€æ®µæ—¶é—´ï¼Œæ…¢æ…¢å›è½ï¼Œè¿™ä¸ªå¯ä»¥å¤§æ¦‚æƒ³åˆ°æ˜¯å®šæ—¶ä»»åŠ¡å¯¼è‡´çš„",-1),h=n("li",null,"æ…¢æŸ¥è¯¢ä¸­ä¹Ÿå¯ä»¥æŸ¥è¯¢åˆ°è°ƒç”¨äº†å­˜å‚¨è¿‡ç¨‹è€—æ—¶å·¨å¤§ï¼Œæ‰«æè¡Œæ•°å·¨å¤šï¼ˆåªèƒ½çœ‹åˆ°è°ƒç”¨çš„å­˜å‚¨è¿‡ç¨‹å’Œæ‰«æè¡Œæ•°æ€»æ•°ï¼Œçœ‹ä¸åˆ°å…·ä½“çš„è¯­å¥ï¼‰",-1),b=n("li",null,"æ‰“å¼€å¼•æ“ç›‘æ§ï¼Œå¯ä»¥çœ‹åˆ°æ›´è¯¦ç»†çš„æ•°æ®ï¼Œè¿™é‡Œä¸»è¦æŸ¥çœ‹å…¨è¡¨æ‰«ææ•°ï¼Œå äº†éå¸¸å¤šï¼Œè€Œä¸”æ—¶é—´ç‚¹å’ŒCPUä½¿ç”¨ç‡çš„æ—¶é—´ç‚¹ä¸€è‡´ï¼Œå¾ˆéš¾ä¸è®©äººæ€€ç–‘æ˜¯å­˜å‚¨è¿‡ç¨‹å¯¼è‡´çš„",-1),k={href:"https://cloud.tencent.com/document/product/236/11269",target:"_blank",rel:"noopener noreferrer"},v=t(`<h2 id="å­˜å‚¨è¿‡ç¨‹æ’æŸ¥æ€è·¯" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨è¿‡ç¨‹æ’æŸ¥æ€è·¯" aria-hidden="true">#</a> å­˜å‚¨è¿‡ç¨‹æ’æŸ¥æ€è·¯</h2><p>é€šè¿‡è…¾è®¯äº‘çš„è¾…åŠ©åˆ†æï¼Œå¯ä»¥ç¡®è®¤é—®é¢˜åŸºæœ¬æ˜¯åœ¨å­˜å‚¨è¿‡ç¨‹ä¸Šäº§ç”Ÿçš„ï¼ŒèŠ±äº†äº›æ—¶é—´è°ƒè¯•ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜</p><div class="language-MySQL line-numbers-mode" data-ext="MySQL"><pre class="language-MySQL"><code>-- CustomerID VARCHAR(10)
-- èµ°ç´¢å¼•
EXPLAIN select MessageWarnType from customer_sysconfig where CustomerID=&#39;1&#39;;
-- ä¸èµ°ç´¢å¼•
EXPLAIN select MessageWarnType from customer_sysconfig where CustomerID=1;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),_={href:"https://stackoverflow.com/questions/7873965/mysql-queries-are-fast-when-run-directly-but-really-slow-when-run-as-stored-proc/21687188#21687188",target:"_blank",rel:"noopener noreferrer"},f=t(`<p>stackoverflowæ–‡ç« ç»™äº†ä¸€ä¸ªæ–¹æ¡ˆè¯´æ˜¯å› ä¸ºå­—ç¬¦é›†çš„é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šCONVERT(xxx USING utf8)<br> æƒ³èµ·äº†ä»¥å‰ä¹Ÿå› ä¸ºå­—ç¬¦é›†å¯¼è‡´çš„è”è¡¨æ— æ³•ä½¿ç”¨ç´¢å¼•é—®é¢˜ï¼ˆå†å²é—ç•™é—®é¢˜ï¼Œä»¥å‰æ˜¯utf8çš„è¡¨åé¢æ˜¯utf8mb4ï¼‰ï¼Œäºæ˜¯éœ€è¦æƒ³åŠæ³•æµ‹è¯•ä¸€ä¸‹</p><p>åŸå…ˆçš„æµ‹è¯•æ–¹æ³•æ˜¯é€šè¿‡ç›´æ¥è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œå†ç»“åˆè…¾è®¯äº‘çš„åˆ†ææ¥æ’æŸ¥æ˜¯å¦ç”Ÿæ•ˆï¼Œä½†æ˜¯ç°åœ¨çœ‹è¿™ç§æ–¹å¼å¾ˆå‚»é€¼<br> ç›®å‰é‡‡ç”¨æ–°å»ºä¸€ä¸ªæµ‹è¯•ç”¨çš„å­˜å‚¨è¿‡ç¨‹</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>CREATE DEFINER=\`root\`@\`%\` PROCEDURE \`test\`()
BEGIN
	DECLARE pCustomerID varchar(10);
	SET pCustomerID = &#39;1&#39;;
	EXPLAIN select MessageWarnType from customer_sysconfig where CustomerID=CONVERT(pCustomerID USING utf8);

END
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æµ‹è¯•ä½¿ç”¨CONVERTå’Œä¸ä½¿ç”¨CONVERTçš„æƒ…å†µï¼Œå‘ç°ç¡®å®æ˜¯ä½¿ç”¨äº†CONVERTä»¥åå°±ä½¿ç”¨ç´¢å¼•äº†</p><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora202401191551996.png"><p>è¿™ç§æ˜¯ä½¿ç”¨äº†å˜é‡çš„æƒ…å†µï¼ˆå‚è€ƒStack Overflowçš„æ–‡ç« ï¼‰ï¼Œæˆ‘å¸ç›®å‰æ˜¯è¿™ç§ï¼Œä½†ä¹Ÿå¾—æµ‹è¯•å‰é¢çš„ç›´æ¥ä½¿ç”¨1å’Œ&#39;1&#39;çš„æƒ…å†µå³</p><div class="language-MySQL line-numbers-mode" data-ext="MySQL"><pre class="language-MySQL"><code>-- CustomerID VARCHAR(10)
EXPLAIN select MessageWarnType from customer_sysconfig where CustomerID=1;
EXPLAIN select MessageWarnType from customer_sysconfig where CustomerID=&#39;1&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),y=n("br",null,null,-1),g={href:"https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html",target:"_blank",rel:"noopener noreferrer"},E=n("h2",{id:"å­—ç¬¦é›†",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å­—ç¬¦é›†","aria-hidden":"true"},"#"),e(" å­—ç¬¦é›†")],-1),w={href:"https://lowleveldesign.wordpress.com/2013/07/19/diagnosing-collation-issue-mysql-stored-procedure/",target:"_blank",rel:"noopener noreferrer"},C=t(`<blockquote><p>When you use: SELECT â€¦ WHERE field=â€™stringâ€™;<br> or:<br> SET @x=â€™stringâ€™;<br> â€¦â€™stringâ€™ is encoded with @@session.character_set_connection and @@session.collation_connection. So if you only use latin-2 for your tables/columns, you can change those variables to make your queries use latin-2 and the proper collation, and you donâ€™t need to change anything in the code.<br> I hope this helps ğŸ™‚</p></blockquote><p>å½“æˆ‘ä»¬ä½¿ç”¨å˜é‡çš„æ—¶å€™ï¼Œå˜é‡ä¼šä½¿ç”¨@@session.character_set_connection and @@session.collation_connectionçš„å­—ç¬¦é›†å’Œæ ¡å¯¹é›†æ¥ç¼–ç ï¼Œæ­¤æ—¶æˆ‘ä»¬å†æ¥æµ‹ä¸€ä¸‹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ç»“æœæ˜¯utf8mb4å’Œutf8mb4_general_ci</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@session.character_set_connection</span><span class="token punctuation">,</span> @<span class="token variable">@session.collation_connection</span><span class="token punctuation">;</span>
<span class="token comment">-- æŸ¥çœ‹æˆ‘çš„è¡¨å’Œå­—æ®µçš„ç¼–ç </span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customer_sysconfig<span class="token punctuation">;</span>
<span class="token comment">-- æ²¡æœ‰çœ‹åˆ°å­—æ®µæœ‰è®¾ç½®ç‰¹æ®Šçš„ï¼Œä¹Ÿæ²¡çœ‹åˆ°è¡¨çš„é»˜è®¤æ ¡å¯¹é›†ï¼Œä½¿ç”¨è¯­å¥ç›´æ¥æŸ¥è¯¢</span>
<span class="token comment">-- æŸ¥è¯¢è¡¨çš„æ ¡å¯¹é›†</span>
<span class="token keyword">SELECT</span> TABLE_COLLATION  <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">TABLES</span> <span class="token keyword">WHERE</span> TABLE_NAME <span class="token operator">=</span> <span class="token string">&#39;customer_sysconfig&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- æŸ¥è¯¢å­—æ®µçš„å­—ç¬¦é›†å’Œæ ¡å¯¹é›†</span>
<span class="token keyword">SELECT</span> CHARACTER_SET_NAME<span class="token punctuation">,</span> COLLATION_NAME <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">COLUMNS</span> <span class="token keyword">WHERE</span> TABLE_NAME <span class="token operator">=</span> <span class="token string">&#39;customer_sysconfig&#39;</span><span class="token punctuation">;</span>


<span class="token comment">-- æ²¡æœ‰ç‰¹å®šæ•°æ®åº“æ—¶ï¼ŒæŸ¥çœ‹é»˜è®¤çš„æ ¡å¯¹é›†å’Œå­—ç¬¦é›†</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;collation_server&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;character_set_server&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- æŒ‡å®šç‰¹å®šæ•°æ®åº“æ—¶ï¼ŒæŸ¥çœ‹é»˜è®¤çš„æ ¡å¯¹é›†å’Œå­—ç¬¦é›†</span>
<span class="token keyword">USE</span> <span class="token keyword">database</span><span class="token punctuation">;</span>

<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;collation_database&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;character_set_database&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora202401191611042.png"><p>é€šè¿‡ä¸Šè¿°æŸ¥è¯¢åï¼Œæˆ‘å¾—å‡ºç»“è®ºå°±æ˜¯</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>customerId: utf8ï¼Œutf8_general_ci  
customer_sysconfig: utf8ï¼Œutf8_general_ci  
@@session.character_set_connection, @@session.collation_connection: utf8mb4ï¼Œutf8mb4_general_ci  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- æ£€éªŒå˜é‡çš„å­—ç¬¦é›†</span>
<span class="token keyword">SET</span> <span class="token variable">@x</span> <span class="token operator">=</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- utf8mb4,utf8mb4_general_ci,utf8mb4,utf8mb4_general_ci</span>
<span class="token keyword">SELECT</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token variable">@x</span><span class="token punctuation">)</span><span class="token punctuation">,</span>COLLATION<span class="token punctuation">(</span><span class="token variable">@x</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token string">&#39;xxx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> COLLATION<span class="token punctuation">(</span><span class="token string">&#39;xxx&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora202401191628036.png"><p>è¿™å°±å¥½åƒå¯ä»¥å¤§æ¦‚çª¥æ¢åˆ°ä¸ºä»€ä¹ˆä½¿ç”¨å˜é‡çš„æ—¶å€™ï¼Œä¼šå‡ºç°ä¸èµ°ç´¢å¼•çš„æƒ…å†µäº†ï¼Œå› ä¸ºå˜é‡çš„å­—ç¬¦é›†å’Œæ ¡å¯¹é›†å’Œè¡¨çš„ä¸ä¸€è‡´ï¼Œå¯¼è‡´æ— æ³•ä½¿ç”¨ç´¢å¼•<br> ä½†æ˜¯è¿˜æœ‰å‡ ä¸ªé—®é¢˜ï¼Œ</p><ol><li>æ–‡ç« æè¿°çš„å‡ºå¤„åœ¨å“ª,æœ€å¥½æ˜¯æœ‰å®˜ç½‘æ–‡æ¡£è€ƒæ®</li><li>æ— æ³•è§£é‡Šä¸ºä»€ä¹ˆç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä¸ä½¿ç”¨å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œå¦‚ä¸‹è¯­å¥</li></ol><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- ä¸ºä»€ä¹ˆå¯ä»¥èµ°ç´¢å¼•ï¼ŒæŒ‰  COLLATION(&#39;xxx&#39;)æŸ¥è¯¢å‡ºæ¥çš„æ˜¯utf8mb4_general_ciï¼Œå’ŒCustomerIDä¸ä¸€è‡´ï¼Œåº”è¯¥ä¸è¡Œçš„æ‰å¯¹</span>
<span class="token keyword">EXPLAIN</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> customer_sysconfig <span class="token keyword">where</span> CustomerID<span class="token operator">=</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,11),L=n("br",null,null,-1),T={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-literal.html",target:"_blank",rel:"noopener noreferrer"},A=n("br",null,null,-1),x={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-collation-coercibility.html",target:"_blank",rel:"noopener noreferrer"},I=n("br",null,null,-1),S={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-repertoire.html",target:"_blank",rel:"noopener noreferrer"},O=n("br",null,null,-1),R={href:"https://dev.mysql.com/doc/refman/5.7/en/type-conversion.html",target:"_blank",rel:"noopener noreferrer"},q=n("br",null,null,-1),N={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html",target:"_blank",rel:"noopener noreferrer"},M=n("br",null,null,-1),H=t(`<h3 id="charset-literal" tabindex="-1"><a class="header-anchor" href="#charset-literal" aria-hidden="true">#</a> charset-literal</h3><p>æ¯ä¸ªå­—ç¬¦ä¸²å­—é¢é‡éƒ½æœ‰é»˜è®¤å¯¹åº”çš„å­—ç¬¦é›†/æ ¡å¯¹é›†è·å–æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>[_charset_name]&#39;string&#39; [COLLATE collation_name]</code>è¿™ç§å½¢å¼æ‰‹åŠ¨æŒ‡å®šå­—ç¬¦é›†å’Œæ ¡å¯¹é›†<br> è·å–è§„åˆ™å¦‚ä¸‹</p><blockquote><ol><li>å¦‚æœ_charset_nameå’ŒCOLLATE collation_nameéƒ½æŒ‡å®šäº†ï¼Œé‚£ä¹ˆæŒ‡å®šçš„å€¼ä¼šè¢«ä½¿ç”¨ï¼Œè€Œä¸”collation_nameå¿…é¡»å’Œcharset_nameåŒ¹é…ï¼ˆæ¯”å¦‚utf8çš„å­—ç¬¦é›†ä¸èƒ½ä½¿ç”¨utf8mb4_0900_ai_ciæ ¡å¯¹é›†ï¼‰<br> If both _charset_name and COLLATE collation_name are specified, character set charset_name and collation collation_name are used. collation_name must be a permitted collation for charset_name.</li><li>å¦‚æœ_charset_nameæŒ‡å®šï¼ŒCOLLATEæ²¡æœ‰æŒ‡å®šï¼Œå­—ç¬¦é›†ä¼šä½¿ç”¨æŒ‡å®šçš„ï¼ŒCOLLATEEä¼šä½¿ç”¨å­—ç¬¦é›†é»˜è®¤çš„æ ¡å¯¹é›†ï¼ˆSHOW CHARACTER SETå¯ä»¥æŸ¥çœ‹åˆ°é»˜è®¤ï¼‰<br> If _charset_name is specified but COLLATE is not specified, character set charset_name and its default collation are used. To see the default collation for each character set, use the SHOW CHARACTER SET statement or query the INFORMATION_SCHEMA CHARACTER_SETS table.</li><li>å¦‚æœ_charset_nameæ²¡æœ‰æŒ‡å®šï¼ŒCOLLATEæŒ‡å®šäº†ï¼Œå­—ç¬¦é›†ä¼šä½¿ç”¨character_set_connectionå˜é‡æŒ‡å®šçš„å€¼ï¼Œæ ¡å¯¹é›†ä½¿ç”¨æŒ‡å®šçš„ï¼Œè€Œä¸”collation_nameå¿…é¡»å’Œcharset_nameåŒ¹é…<br> If _charset_name is not specified but COLLATE collation_name is specified, the connection default character set given by the character_set_connection system variable and collation collation_name are used. collation_name must be a permitted collation for the connection default character set.</li><li>å¦‚æœä¸¤è€…éƒ½ä¸æŒ‡å®šï¼Œé‚£ä¹ˆä¼šå–character_set_connection and collation_connectionç³»ç»Ÿå˜é‡çš„å€¼<br> Otherwise (neither _charset_name nor COLLATE collation_name is specified), the connection default character set and collation given by the character_set_connection and collation_connection system variables are used.</li></ol></blockquote><h3 id="charset-collation-coercibility" tabindex="-1"><a class="header-anchor" href="#charset-collation-coercibility" aria-hidden="true">#</a> charset-collation-coercibility</h3><p>å‚è€ƒä¸‹é¢çš„è¯­å¥</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- æ¯”è¾ƒçš„æ—¶å€™å¦‚ä½•ç¡®å®šä½¿ç”¨å“ªç§å­—ç¬¦é›†å’Œæ ¡å¯¹é›†ï¼Ÿå¦‚æœä¸¤è€…éƒ½ä¸€æ ·é‚£æ²¡æœ‰å¼‚è®®ï¼Œå¦‚æœä¸¤è€…éƒ½ä¸€æ ·ï¼Œé‚£åº”è¯¥æ€ä¹ˆå¤„ç†</span>
<span class="token keyword">SELECT</span> x <span class="token keyword">FROM</span> T <span class="token keyword">WHERE</span> x <span class="token operator">=</span> <span class="token string">&#39;Y&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæŒ‡å®šäº†ä¸€äº›è§„åˆ™ï¼Œä¸ºæ¯ç§è§„åˆ™æŒ‡å®šä¸€ä¸ªcoercibilityå€¼</p><blockquote><ol><li>å¦‚æœæ‰‹åŠ¨æŒ‡å®šäº†COLLATEï¼Œcoercibility=0<br> An explicit COLLATE clause has a coercibility of 0 (not coercible at all).</li><li>å¦‚æœCONCAT çš„ä¸¤ä¸ªå­—ç¬¦ä¸²æœ‰ä¸åŒçš„COLLATIONï¼Œå–1<br> The concatenation of two strings with different collations has a coercibility of 1.</li><li>å¦‚æœæ˜¯ä¸€ä¸ªå­—æ®µæˆ–è€…æ˜¯å˜é‡ï¼Œå–2<br> The collation of a column or a stored routine parameter or local variable has a coercibility of 2.</li><li>å¦‚æœæ˜¯ç³»ç»Ÿå¸¸é‡ï¼Œæ¯”å¦‚æ˜¯é€šè¿‡å‡½æ•°è¿”å›çš„ï¼Œå–3<br> A â€œsystem constantâ€ (the string returned by functions such as USER() or VERSION()) has a coercibility of 3.</li><li>å¦‚æœæ˜¯å­—é¢é‡ï¼Œå–4<br> The collation of a literal has a coercibility of 4.</li><li>å¦‚æœæ˜¯æ•°å­—æˆ–è€…ä¸´æ—¶å€¼ï¼Œå–5<br> The collation of a numeric or temporal value has a coercibility of 5.</li><li>å¦‚æœæ˜¯nullæˆ–è€…nullæ´¾ç”Ÿçš„è¡¨è¾¾å¼å–6<br> NULL or an expression that is derived from NULL has a coercibility of 6.</li></ol></blockquote><blockquote><p>MySQLä¼šåœ¨æ¯”è¾ƒæ—¶å¯¹å·¦å³ä¸¤è¾¹è¿›è¡Œä¸€ä¸ªcoercibilityçš„æ¯”è¾ƒï¼Œç„¶åä¼˜å…ˆé€‰æ‹©æœ€ä½çš„åº¦çš„é‚£ä¸ªå­—ç¬¦é›†å’Œæ ¡å¯¹é›†è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœcoercibilityç›¸åŒä¹Ÿä¼šæœ‰ç›¸åº”çš„è§„åˆ™</p><ol><li>ä½¿ç”¨æœ€ä½çš„coercibilityçš„å€¼<br> Use the collation with the lowest coercibility value.</li><li>å¦‚æœä¸¤è¾¹æœ‰ç›¸åŒçš„coercibility<br> If both sides have the same coercibility, then:<br> 2.1 å¦‚æœä¸¤è€…éƒ½æ˜¯unicodeæˆ–è€…éƒ½ä¸æ˜¯unicodeï¼ŒæŠ¥é”™ï¼ˆä½†æ˜¯è¿˜æœ‰Repertoireçš„å­˜åœ¨ï¼‰<br> If both sides are Unicode, or both sides are not Unicode, it is an error.<br> 2.2 å¦‚æœä¸€è¾¹æ˜¯unicodeï¼Œä¸€è¾¹ä¸æ˜¯unicodeï¼Œé‚£ä¹ˆä¼šé‡‡ç”¨unicodeå­—ç¬¦é›†ï¼Œå› ä¸ºè¶…é›†çš„è§„åˆ™æ›´å®½æ³›ï¼Œå¯ä»¥é€‚ç”¨äºå­é›†<br> If one of the sides has a Unicode character set, and another side has a non-Unicode character set, the side with Unicode character set wins, and automatic character set conversion is applied to the non-Unicode side. For example, the following statement does not return an error:<br><code>SELECT CONCAT(utf8mb4_column, latin1_column) FROM t1;</code> It returns a result that has a character set of utf8mb4 and the same collation as utf8mb4_column. Values of latin1_column are automatically converted to utf8mb4 before concatenating.<br> 2.3 å¦‚æœç›¸åŒå­—ç¬¦é›†ï¼Œä½†æ˜¯æ··å’Œäº†_binå’Œä¸€ä¸ª_ci/_csçš„æ ¡å¯¹é›†ï¼Œä¼šé‡‡ç”¨_binçš„æ ¡å¯¹é›†<br> For an operation with operands from the same character set but that mix a _bin collation and a _ci or _cs collation, the _bin collation is used. This is similar to how operations that mix nonbinary and binary strings evaluate the operands as binary strings, applied to collations rather than data types.</li></ol></blockquote><p>ä»æˆ‘ä»¬çš„æ¡ˆä¾‹æ¥çœ‹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- CustomerIDæ˜¯å­—æ®µï¼Œcoercibilityæ˜¯2ï¼Œ 1æ˜¯æ•°å­—ï¼Œcoercibilityæ˜¯5ï¼Œäºæ˜¯é€‰æ‹©äº†CustomerIDå¯¹åº”çš„å­—ç¬¦é›†ä½œä¸ºæœ€åæ¯”è¾ƒçš„å­—ç¬¦é›†ï¼Œå³é‡‡ç”¨utf8ï¼Œutf8_general_ci</span>
<span class="token comment">-- ä½†æ˜¯ç”±äºç±»å‹è½¬æ¢çš„é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œä¸€ä¸ªæ˜¯æ•°å­—ï¼Œæ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œå‚è€ƒhttps://dev.mysql.com/doc/refman/5.7/en/type-conversion.htmlï¼Œé‡Œé¢æåˆ°ï¼Œç”±äºæ¯”å¦‚å­—ç¬¦ä¸² &#39;1&#39;ï¼Œ&#39; 1&#39;å’Œ&#39;1a&#39;éƒ½å¯ä»¥è¢«è½¬åŒ–æˆ1ï¼Œè¿™æ ·å­ç´¢å¼•æ˜¯æ— æ³•ç”Ÿæ•ˆçš„ï¼Œæœ‰ç§ç±»ä¼¼%1%æ— æ³•ç”Ÿæ•ˆç´¢å¼•ä¸€æ ·ï¼ˆB Treeï¼‰</span>
<span class="token keyword">select</span> MessageWarnType <span class="token keyword">from</span> customer_sysconfig <span class="token keyword">where</span> CustomerID<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">-- CustomerIDæ˜¯å­—æ®µï¼Œcoercibilityæ˜¯2ï¼Œ&#39;1&#39;æ˜¯å­—é¢é‡ï¼Œcoercibilityæ˜¯4ï¼Œé‡‡ç”¨utf8ï¼Œutf8_general_ci</span>
<span class="token comment">-- æœ¬æ¥åº”è¯¥è¦æŠ¥é”™çš„ï¼Œä½†æ˜¯ç”±äº&#39;1&#39;ä¸åŒ…å«è¶…å‡ºASCIIçš„å­—ç¬¦ï¼Œæ‰€ä»¥Repertoireæ˜¯ASCIIï¼Œä¸€è¾¹æ˜¯UFT8ï¼Œä¸€è¾¹æ˜¯ASCIIï¼Œæ‰€ä»¥å¯ä»¥è½¬ä¸ºutf8ï¼Œå› æ­¤ä¸ä¼šæŠ¥é”™</span>
<span class="token keyword">select</span> MessageWarnType <span class="token keyword">from</span> customer_sysconfig <span class="token keyword">where</span> CustomerID<span class="token operator">=</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token variable">@xx</span><span class="token operator">=</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- CustomerIDæ˜¯å­—æ®µï¼Œcoercibilityæ˜¯2ï¼Œ@xxæ˜¯å˜é‡ï¼Œcoercibilityæ˜¯2ï¼Œä¸¤è€…coercibilityç›¸åŒ</span>
<span class="token comment">-- ä¾ç…§ç›¸åŒçš„coercibilityï¼Œå…ˆåˆ¤æ–­unicodeï¼Œä¸€è¾¹unicodeæ˜¯utf8ï¼Œä¸€è¾¹æ˜¯utf8mb4ï¼Œéƒ½æ˜¯UNICODEå­—ç¬¦é›†</span>
<span class="token comment">-- ç†è®ºåº”è¯¥è¦æŠ¥é”™ï¼Œä½†æ˜¯ç”±äºutf8mb4æ˜¯utf8çš„è¶…é›†ï¼Œå…è®¸è‡ªåŠ¨è½¬æ¢ä¸ºutf8mb4ï¼ˆhttps://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.htmlï¼‰</span>
<span class="token keyword">select</span> MessageWarnType <span class="token keyword">from</span> customer_sysconfig <span class="token keyword">where</span> CustomerID<span class="token operator">=</span><span class="token variable">@xx</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora202401191852060.png"><h2 id="è§£å†³" tabindex="-1"><a class="header-anchor" href="#è§£å†³" aria-hidden="true">#</a> è§£å†³</h2><p>ç»Ÿä¸€ç¼–ç ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨CONVERT(xxx using character_set),å·¥ä½œé‡è¾ƒå¤§ï¼Œä½†èƒ½æœ€å¤§ç»´æŒåŸé¡¹ç›®ä¸æŠ¥é”™<br> å‡å¦‚ä»utf8æ”¹æˆutf8mb4ï¼Œéœ€è¦è€ƒè™‘å‡ ä¸ªæ–¹é¢</p><ol><li>é»˜è®¤å­—ç¬¦é›†ä¿®æ”¹</li><li>å·²æœ‰å­—ç¬¦é›†ä¿®æ”¹</li><li>ä¿®æ”¹åä¸€ä¸ªå­—ç¬¦ä»3ä¸ªå­—èŠ‚åˆ°4ä¸ªå­—èŠ‚ï¼Œè¿™ä¸ªä¼šå¯¼è‡´åŸå…ˆæ¯”å¦‚255å­—èŠ‚é•¿åº¦å¯ä»¥å­˜æ”¾85ä¸ªå­—ç¬¦çš„varcharï¼Œç›®å‰åªèƒ½å­˜æ”¾63ä¸ªå­—ç¬¦ï¼Œè½¬æ¢å°±ä¼šæŠ¥é”™ï¼Œéœ€è¦ç›¸åº”ä¿®æ”¹å®¹é‡æˆ–è€…ç±»å‹</li></ol><h3 id="é»˜è®¤å­—ç¬¦é›†ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å­—ç¬¦é›†ä¿®æ”¹" aria-hidden="true">#</a> é»˜è®¤å­—ç¬¦é›†ä¿®æ”¹</h3><div class="language-conf line-numbers-mode" data-ext="conf"><pre class="language-conf"><code>vi /etc/my.cnf

[mysqld]
character-set-server = utf8mb4
collation-server = utf8mb4_general_ci
skip-character-set-client-handshake
#å¿½ç•¥åº”ç”¨è¿æ¥è‡ªå·±è®¾ç½®çš„å­—ç¬¦ç¼–ç ï¼Œä¿æŒä¸å…¨å±€è®¾ç½®ä¸€è‡´
[client]
default-character-set=utf8mb4
[mysql]
default-character-set=utf8mb4

-- é‡å¯åæŸ¥è¯¢é»˜è®¤å€¼
SHOW VARIABLES WHERE variable_name LIKE &#39;character_set_%&#39; OR variable_name LIKE &#39;collation%&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å·²æœ‰å­—ç¬¦é›†ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#å·²æœ‰å­—ç¬¦é›†ä¿®æ”¹" aria-hidden="true">#</a> å·²æœ‰å­—ç¬¦é›†ä¿®æ”¹</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- è®¾ç½®æ•°æ®åº“å­—ç¬¦é›†ç¼–ç </span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">\`</span>dbname<span class="token punctuation">\`</span></span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci<span class="token punctuation">;</span>

<span class="token comment">-- ä¿®æ”¹è¡¨å­—ç¬¦é›†</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">\`</span>tb_name<span class="token punctuation">\`</span></span> <span class="token keyword">default</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- ä¿®æ”¹æŸå­—æ®µå­—ç¬¦é›†</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">\`</span>tb_name<span class="token punctuation">\`</span></span> <span class="token keyword">modify</span> col_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">character</span> <span class="token keyword">set</span> utf8mb4<span class="token punctuation">;</span>

<span class="token comment">-- åŒæ—¶ä¿®æ”¹è¡¨åŠå­—æ®µå­—ç¬¦é›†</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">\`</span>tb_name<span class="token punctuation">\`</span></span> <span class="token keyword">CONVERT</span> <span class="token keyword">TO</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci<span class="token punctuation">;</span>

<span class="token comment">-- å¦‚æœæŸä¸ªåº“é‡Œé¢è¡¨æ¯”è¾ƒå¤š å¯ä»¥æ‹¼æ¥å‡ºè¦æ‰§è¡Œçš„æ‰¹é‡ä¿®æ”¹è¯­å¥</span>
<span class="token keyword">SELECT</span>
	CONCAT<span class="token punctuation">(</span> <span class="token string">&#39;ALTER TABLE &#39;</span><span class="token punctuation">,</span> TABLE_NAME<span class="token punctuation">,</span> <span class="token string">&#39; CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;&#39;</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	information_schema<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>TABLES<span class="token punctuation">\`</span></span> 
<span class="token keyword">WHERE</span>
	TABLE_SCHEMA <span class="token operator">=</span> <span class="token string">&#39;testdb&#39;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>åœ¨è€ƒè™‘ä¼šä¸ä¼šä½¿ç”¨ç´¢å¼•æ—¶éœ€è¦ç»¼åˆå‡ ä¸ªæ–¹é¢ï¼Œé™¤äº†å¸¸è§„çš„ç´¢å¼•å¤±æ•ˆï¼Œè¿˜æœ‰å¯èƒ½æ˜¯ç¼–ç å¯¼è‡´çš„é—®é¢˜<br> åªè€ƒè™‘å­—ç¬¦ä¸²æ¯”è¾ƒçš„æƒ…å†µï¼Œéœ€è¦ç¡®ä¿ä½¿ç”¨çš„æ ¡å¯¹é›†æ˜¯ä¸€æ ·çš„æ‰å¯ä»¥èµ°ç´¢å¼•<br> æ¯”è¾ƒåŸåˆ™å…ˆçœ‹coercibilityå†çœ‹repertoireå’Œç‰¹æ®Šæƒ…å†µï¼ˆæ¯”å¦‚utf8å’Œutf8mb4ï¼‰</p><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2>`,22),D={href:"https://cloud.tencent.com/document/product/236/11269",target:"_blank",rel:"noopener noreferrer"},W={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-literal.html",target:"_blank",rel:"noopener noreferrer"},U={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-collation-coercibility.html",target:"_blank",rel:"noopener noreferrer"},V={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-repertoire.html",target:"_blank",rel:"noopener noreferrer"},B={href:"https://dev.mysql.com/doc/refman/5.7/en/type-conversion.html",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html",target:"_blank",rel:"noopener noreferrer"},F={href:"https://stackoverflow.com/questions/7873965/mysql-queries-are-fast-when-run-directly-but-really-slow-when-run-as-stored-proc/21687188#21687188",target:"_blank",rel:"noopener noreferrer"},P={href:"https://lowleveldesign.wordpress.com/2013/07/19/diagnosing-collation-issue-mysql-stored-procedure/",target:"_blank",rel:"noopener noreferrer"};function z(K,X){const s=i("ExternalLinkIcon");return l(),r("div",null,[p,n("ol",null,[d,u,m,h,b,n("li",null,[e("è¿™é‡Œéœ€è¦æ‰“å¼€è…¾è®¯äº‘çš„æ•°æ®åº“å‚æ•°"),n("a",k,[e("log_queries_not_using_indexes"),a(s)]),e("ï¼Œå¯ä»¥è®°å½•ä¸‹å…¨è¡¨æ‰«æçš„SQL,å¸®åŠ©æ’æŸ¥")])]),v,n("p",null,[e("æš‚æ—¶ä¸çŸ¥é“ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼Œä½†æ˜¯æ„Ÿè§‰å¯èƒ½æ˜¯å’Œè¿™ä¸ªé—®é¢˜ç›¸å…³ï¼ŒæŒ‰ç€è¿™ä¸ªæ–¹å‘å»æŸ¥"),n("a",_,[e("èµ„æ–™"),a(s)]),e("ï¼Œå‘ç°äº†ä¸€äº›ç«¯å€ª")]),f,n("p",null,[e("å‘ç°åœ¨å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨æ•°å­—1ä¸èµ°ç´¢å¼•ï¼Œå­—ç¬¦ä¸²'1'èµ°ç´¢å¼•"),y,e(" è¿™é‡Œè¿˜å¾—æä¸€ä¸‹"),n("a",g,[e("ç±»å‹è½¬æ¢"),a(s)]),e("çš„é—®é¢˜,æ— æ³•èµ°ç´¢å¼•çš„åŸå› ç»§ç»­åˆ†æ")]),E,n("p",null,[e("ä¸ºä»€ä¹ˆä¼šæœ‰ä¸èµ°ç´¢å¼•çš„é—®é¢˜ï¼Ÿ è¿™é‡Œå‚è€ƒäº†Stack Overflowæ–‡ç« æåˆ°çš„"),n("a",w,[e("é“¾æ¥"),a(s)]),e("ï¼Œå¤§ä½¬FEDERICOæåˆ°äº†")]),C,n("p",null,[e("è¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯MySQLåšäº†ä¼˜åŒ–ï¼Œåœ¨ä½¿ç”¨å­—ç¬¦ä¸²çš„æ—¶å€™å…è®¸è‡ªåŠ¨åŒ¹é…å­—æ®µçš„å­—ç¬¦é›†ï¼Œæ‰å¯ä»¥èµ°ç´¢å¼•(å…¶å®ä¸å¤ªå¯¹)ï¼Œæ‰¾æ‰¾çœ‹æœ‰æ²¡æœ‰ç›¸å…³çš„æ–‡ç« "),L,n("a",T,[e("charset-literal"),a(s)]),A,n("a",x,[e("charset-collation-coercibility"),a(s)]),I,n("a",S,[e("Character Set Repertoire"),a(s)]),O,n("a",R,[e("type-conversion"),a(s)]),q,n("a",N,[e("utf8mb4"),a(s)]),M,e(" æ ¹æ®ä¸Šé¢å‡ ç¯‡æ–‡ç« ï¼Œå¯ä»¥å¾—åˆ°å‡ ä¸ªä¿¡æ¯ç‚¹")]),H,n("ol",null,[n("li",null,[n("a",D,[e("è…¾è®¯äº‘log_queries_not_using_indexes"),a(s)])]),n("li",null,[n("a",W,[e("charset-literal"),a(s)])]),n("li",null,[n("a",U,[e("charset-collation-coercibility"),a(s)])]),n("li",null,[n("a",V,[e("Character Set Repertoire"),a(s)])]),n("li",null,[n("a",B,[e("type-conversion"),a(s)])]),n("li",null,[n("a",Q,[e("utf8mb4"),a(s)])]),n("li",null,[n("a",F,[e("stack overflow-mysql-queries-are-fast-when-run-directly-but-really-slow-when-run-as-stored-proc"),a(s)])]),n("li",null,[n("a",P,[e("diagnosing-collation-issue-mysql-stored-procedure"),a(s)])])])])}const j=o(c,[["render",z],["__file","20240119MySQLcunchuguochengzifujibutongdaozhisuoyinbushengxiao.html.vue"]]);export{j as default};
