import{_ as a,p as n,q as s,Y as e}from"./framework-f2b64c38.js";const r={},i=e(`<h2 id="起因" tabindex="-1"><a class="header-anchor" href="#起因" aria-hidden="true">#</a> 起因</h2><p><strong>命令写错</strong>，本来应该是start的<br> 结果按了↑，只改了容器名<br> 吓坏了，冷静下来后百度了一番<br> 还是得到了解决方案</p><h2 id="解决" tabindex="-1"><a class="header-anchor" href="#解决" aria-hidden="true">#</a> 解决</h2><div class="custom-container warning"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8v4"></path><path d="M12 16h.01"></path></g></svg><p class="custom-container-title">前提条件</p><p>rm删除的时候没有-v<br> 容器的数据还没有被删除</p></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 找到容器实际存放的位置</span>
<span class="token comment"># 我这里是/var/lib/docker/volumes</span>
<span class="token function">find</span> / <span class="token parameter variable">-name</span> volumes
<span class="token comment"># 查看</span>
<span class="token function">ls</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora20210221113410.png"><p>能看到上面有很多文件夹，这些就是数据</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 搜索mongodb的数据在哪个文件夹</span>
<span class="token comment"># 我这里搜索出了几个，说明是我之前建了几个容器</span>
<span class="token function">find</span> /var/lib/docker/volumes/ <span class="token parameter variable">-name</span> *mongo*
<span class="token comment"># 重新创建容器，使用-v映射，--auth为启用认证（上面如果搜出多个就一个一个试</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">27017</span>:27017 <span class="token parameter variable">-v</span> /var/lib/docker/volumes/xxxx/_data:/data/db <span class="token parameter variable">--name</span> mongodb mongo <span class="token parameter variable">--auth</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://ikaros-picture.oss-cn-shenzhen.aliyuncs.com/typora20210221130117.png"><p>创建完成后即可测试连接了</p>`,10),o=[i];function t(c,l){return n(),s("div",null,o)}const p=a(r,[["render",t],["__file","Dockerwushanmongodbzhaohuishuju.html.vue"]]);export{p as default};
